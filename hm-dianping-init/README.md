# 代码使用说明
项目代码包含2个分支：
- master : 主分支，包含完整功能代码
- dev : 开发环境分支，负责测试和编写功能模块的分支
切换分支
```git
git checkout init
```
### 架构

![image-20230610113419807](G:\Project\Commont\Comment-System\hm-dianping-init\README.assets\image-20230610113419807.png)

### 短信登录

### 集群Session的共享问题
多台Tomcat并不共享Session存储空间, 当请求切换到不同的Tomcat服务器时会导致数据丢失
Session的替代方案应该满足
- 数据共享
- 内存存储
- key、 value结构

所以将验证信息保存在Redis中 以Token为key值 user对象为value

### 商户查询缓存

<b>包括技术<b/>

- 添加Redis缓存
  - 将数据放入Redis缓存中 方便下次查询
- 缓存更新策略
  - 对数据做出修改后 缓存不能即使做出更新 所以要用到缓存更新策略
- 缓存穿透
  - 客户端的请求的数据在缓存和数据库中都不存在 如果恶意访问会降低性能 所以使用缓存空对象和布隆过滤来解决这个问题
- 缓存雪崩
  - 在同一时间缓存的key大量失效 或者Redis服务宕机 给数据库带来巨大压力 所以给不同的key添加随机的TTL值
- 缓存击穿 
  - 一个被高并发访问并且缓存重建业务较复杂的key突然失效了 无数的请求访问会瞬间给数据库带来压力
- 缓存工具封装
  - 函数式编程思想  
### 优惠券秒杀
